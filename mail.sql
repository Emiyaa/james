/*
Navicat MySQL Data Transfer

Source Server         : ssm
Source Server Version : 50532
Source Host           : localhost:3306
Source Database       : mail

Target Server Type    : MYSQL
Target Server Version : 50532
File Encoding         : 65001

Date: 2017-06-09 17:53:29
*/

SET FOREIGN_KEY_CHECKS=0;

-- ----------------------------
-- Table structure for `inbox`
-- ----------------------------
DROP TABLE IF EXISTS `inbox`;
CREATE TABLE `inbox` (
  `message_name` varchar(200) NOT NULL,
  `repository_name` varchar(100) NOT NULL,
  `message_state` varchar(30) NOT NULL,
  `error_message` varchar(200) DEFAULT NULL,
  `sender` varchar(255) DEFAULT NULL,
  `recipients` text NOT NULL,
  `remote_host` varchar(255) NOT NULL,
  `remote_addr` varchar(20) NOT NULL,
  `message_body` longblob NOT NULL,
  `message_attributes` longblob,
  `last_updated` datetime NOT NULL,
  PRIMARY KEY (`repository_name`,`message_name`),
  KEY `message_name` (`message_name`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of inbox
-- ----------------------------
INSERT INTO `inbox` VALUES ('Mail1495602785772-13', 'admin', 'root', null, 'admin@james.com', 'admin@james.com', 'localhost', '127.0.0.1', 0x52657475726E2D506174683A203C61646D696E406A616D65732E636F6D3E0D0A44656C6976657265642D546F3A2061646D696E406A616D65732E636F6D0D0A52656365697665643A2066726F6D206A616D65732E636F6D20285B3132372E302E302E315D290D0A2020202020202020202062792041646D696E20284A414D455320534D54502053657276657220322E332E3229207769746820534D5450204944203830350D0A20202020202020202020666F72203C61646D696E406A616D65732E636F6D3E3B0D0A202020202020202020205765642C203234204D617920323031372031333A31333A3034202B303830302028435354290D0A446174653A205765642C203234204D617920323031372031333A31323A3339202B303830302028435354290D0A46726F6D3A2061646D696E406A616D65732E636F6D0D0A546F3A2061646D696E406A616D65732E636F6D0D0A4D6573736167652D49443A203C3639303138333230392E302E313439353630323738343835362E4A6176614D61696C2E41646D696E6973747261746F72406A616D65732E636F6D3E0D0A5375626A6563743A203D3F47424B3F423F3176664D34673D3D3F3D0D0A4D494D452D56657273696F6E3A20312E300D0A436F6E74656E742D547970653A20746578742F68746D6C3B636861727365743D7574662D380D0A436F6E74656E742D5472616E736665722D456E636F64696E673A20376269740D0A0D0A, 0xACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000107708000000100000000078, '2017-05-24 13:13:05');
INSERT INTO `inbox` VALUES ('Mail1495609744339-0', 'admin', 'root', null, 'admin@james.com', 'admin@james.com', 'localhost', '127.0.0.1', 0x52657475726E2D506174683A203C61646D696E406A616D65732E636F6D3E0D0A44656C6976657265642D546F3A2061646D696E406A616D65732E636F6D0D0A52656365697665643A2066726F6D206A616D65732E636F6D20285B3132372E302E302E315D290D0A2020202020202020202062792041646D696E20284A414D455320534D54502053657276657220322E332E3229207769746820534D5450204944203130360D0A20202020202020202020666F72203C61646D696E406A616D65732E636F6D3E3B0D0A202020202020202020205765642C203234204D617920323031372031353A30393A3031202B303830302028435354290D0A446174653A205765642C203234204D617920323031372031353A30383A3538202B303830302028435354290D0A46726F6D3A2061646D696E406A616D65732E636F6D0D0A546F3A2061646D696E406A616D65732E636F6D0D0A4D6573736167652D49443A203C3633323731343635302E302E313439353630393734313132392E4A6176614D61696C2E41646D696E6973747261746F72406A616D65732E636F6D3E0D0A5375626A6563743A203D3F47424B3F423F3166334F78413D3D3F3D0D0A4D494D452D56657273696F6E3A20312E300D0A436F6E74656E742D547970653A20746578742F68746D6C3B636861727365743D7574662D380D0A436F6E74656E742D5472616E736665722D456E636F64696E673A20376269740D0A0D0A, 0xACED0005737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F400000000000107708000000100000000078, '2017-05-24 15:09:04');

-- ----------------------------
-- Table structure for `mail`
-- ----------------------------
DROP TABLE IF EXISTS `mail`;
CREATE TABLE `mail` (
  `mailid` varchar(200) NOT NULL,
  `subject` varchar(200) DEFAULT NULL,
  `sendname` varchar(200) DEFAULT NULL,
  `sender` varchar(200) NOT NULL,
  `recipientname` varchar(200) DEFAULT NULL,
  `recipient` varchar(200) NOT NULL,
  `sendtime` datetime NOT NULL,
  `content` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`mailid`),
  KEY `sendname` (`sendname`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of mail
-- ----------------------------

-- ----------------------------
-- Table structure for `mail_flag`
-- ----------------------------
DROP TABLE IF EXISTS `mail_flag`;
CREATE TABLE `mail_flag` (
  `message_name` varchar(200) NOT NULL,
  `isdraft` int(1) NOT NULL,
  `isdelete` int(1) NOT NULL,
  PRIMARY KEY (`message_name`),
  CONSTRAINT `message_name` FOREIGN KEY (`message_name`) REFERENCES `inbox` (`message_name`) ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of mail_flag
-- ----------------------------

-- ----------------------------
-- Table structure for `rsakey`
-- ----------------------------
DROP TABLE IF EXISTS `rsakey`;
CREATE TABLE `rsakey` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `publicKey` text NOT NULL,
  `privateKey` text NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of rsakey
-- ----------------------------
INSERT INTO `rsakey` VALUES ('2', 'MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCe8FnxsgaewUWwUJ4FVZPI6qg3FsICOkBHAFzO\n/9HO+Kt5Kif19zd6g7vSyZIe3rCg+iNdNk+3jaxE+9NztkPK6/68eMUc3TrwjE8VKKBTpWiY8dqI\n8l0t+Ku9mQ5vZ641IUxbc7p+PphdKeozGKFfBYUdeeF1zi4xa46kpw9NWQIDAQAB', 'MIICdwIBADANBgkqhkiG9w0BAQEFAASCAmEwggJdAgEAAoGBAJ7wWfGyBp7BRbBQngVVk8jqqDcW\nwgI6QEcAXM7/0c74q3kqJ/X3N3qDu9LJkh7esKD6I102T7eNrET703O2Q8rr/rx4xRzdOvCMTxUo\noFOlaJjx2ojyXS34q72ZDm9nrjUhTFtzun4+mF0p6jMYoV8FhR154XXOLjFrjqSnD01ZAgMBAAEC\ngYBRtEjogJX6omxKuQaiw11XWZnjx+Uv8/X7Ceqr1sJqXVb40Hz+anmwl2vEbi6Zg+zUtAHd9v9/\n4mp+g94ti7LJGg+TxVX5wY4LInirCqq2zU+J0DRK8KvFKkyz6OzTUW+mmzCK2GTcf/N0ITq7ypQ2\nfzVZ/Y+GFPJGTu9wHmdvSQJBAOxEL1oEHqBYjI6994mX3eIYporHTHitYfJ/aoE/YblNGYIte/pe\nfnECX6gzjG/rgLksTMX5zkMewE15dMSC3bcCQQCsNsLCjaICKcR5jHQs5wuEj0fzYGpB+540FeBe\n6WtHpx83iqrx3Je9ia4E5+2qnC01HHzaEbk6uWZhA5SZaC1vAkEAxoryA8IMfpCK5XUL7GtbgSFX\n6q1aPNruwVqDhMNfetkog3V3hskblhn5ip5u+Ko9zN5GUeP/ifXwgep7zptudwJBAKFC8iNurytp\nYzMSw+McQ5vQ8+ZB/Z5l+SH67kzSNQQ2ybOf5S1wjKMO3uZ3LAXcEzUtxPgLKrGD1Qu5Z5gzhn8C\nQCrtG1zLRzDD1rkbqU1fyCnX0foIs2ZTWLqPPkqni6bEzITs9FDi76Y0RW73ofadwCq6N4VAcxhM\ncYP0JRDVGVY=');

-- ----------------------------
-- Table structure for `user`
-- ----------------------------
DROP TABLE IF EXISTS `user`;
CREATE TABLE `user` (
  `username` varchar(20) NOT NULL,
  `usernickname` varchar(20) NOT NULL,
  `usermail` varchar(50) NOT NULL,
  `userbirthday` date NOT NULL,
  `usermobile` varchar(11) NOT NULL,
  PRIMARY KEY (`username`),
  CONSTRAINT `username` FOREIGN KEY (`username`) REFERENCES `users` (`username`) ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of user
-- ----------------------------
INSERT INTO `user` VALUES ('admin', '管理员', 'admin@james.com', '1993-04-18', '18772101437');
INSERT INTO `user` VALUES ('admin1', '管理员1', 'admin1@james.com', '1993-04-18', '18772101437');
INSERT INTO `user` VALUES ('test', '测试', 'test@james.com', '1993-04-18', '18772101437');

-- ----------------------------
-- Table structure for `users`
-- ----------------------------
DROP TABLE IF EXISTS `users`;
CREATE TABLE `users` (
  `username` varchar(64) NOT NULL,
  `pwdHash` varchar(50) DEFAULT NULL,
  `pwdAlgorithm` varchar(20) DEFAULT NULL,
  `useForwarding` smallint(6) DEFAULT NULL,
  `forwardDestination` varchar(255) DEFAULT NULL,
  `useAlias` smallint(6) DEFAULT NULL,
  `alias` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`username`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- ----------------------------
-- Records of users
-- ----------------------------
INSERT INTO `users` VALUES ('admin', '0DPiKuNIrrVmD8IUCuw1hQxN', 'SHA', '0', null, '0', null);
INSERT INTO `users` VALUES ('admin1', 'bHyjRfY/g1yzU/8VvWxeBS7A', 'SHA', null, null, null, null);
INSERT INTO `users` VALUES ('test', 'qUqP5cyxm6YcTAhz05Hph5gv', 'SHA', '0', null, '0', null);
